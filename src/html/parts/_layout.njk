{%- import './_share.njk' as share with context -%}
{%- import './_macros.njk' as mc with context -%}
{%- import './_schema.njk' as sc with context -%}
<!doctype html>
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie10 lt-ie9" lang="en"><![endif]-->
<!--[if (IE 9)&!(IEMobile)]><html class="no-js lt-ie10" lang="en"><![endif]-->
<!--[if gt IE 9]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="title" content="{{ brand }}">
  <meta name="description" content="">
  <meta name="news_keywords" content="">
  <meta name="author" content="">
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge">
  <title>{{ brand }}</title>
  <link rel="canonical" href="{{ baseurl }}/url/to/full/document.html">

  {# schema #}
  {% if type === 'home' %}{{ sc.webpage() }}{% endif %}
  {% if type === 'section' %}{{ sc.collection(path) }}{% endif %}
  {% if type === 'article' %}{{ sc.news_article() }}{% endif %}
  {% if type === 'video-gallery' %}{{ sc.video_gallery() }}{% endif %}
  {% if type === 'video' %}{{ sc.video() }}{% endif %}
  {% if type === 'audio' %}{{ sc.audio() }}{% endif %}
  {% if type === 'about' %}{{ sc.about_page() }}{% endif %}
  {% if type === 'contact' %}{{ sc.contact_page() }}{% endif %}
  {% if type === 'search' %}{{ sc.search_page(section) }}{% endif %}
  {% if type === 'blog' %}{{ sc.blog() }}{% endif %}
  {% if type === 'blog-posting' %}{{ sc.blog_posting() }}{% endif %}
  {% if type === 'podcast-episode' %}{{ sc.podcast_episode() }}{% endif %}
  {% if type === 'podcast' %}{{ sc.podcast() }}{% endif %}
  {% if type === 'book' %}{{ sc.book() }}{% endif %}
  {% if type === 'person' %}{{ sc.person() }}{% endif %}
  {{ sc.media_organization() }}

  <!-- favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
  <link rel="manifest" href="assets/img/favicon/site.webmanifest">
  <link rel="mask-icon" href="assets/img/favicon/safari-pinned-tab.svg" color="#60c7d0">
  <link rel="shortcut icon" href="assets/img/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#ffffff">
  <meta name="msapplication-config" content="/assets/img/favicon/browserconfig.xml">
  <meta name="theme-color" content="#000000">

  <!-- Subresources:  -->
  <!-- Identify the resources that are the highest priority and should be requested before prefetched items -->
  <link rel="subresource" href="{{ root }}assets/css/main.css">

  <!-- Prefetch DNS for external assets -->
  <!-- <link href="https://fontastic.s3.amazonaws.com" rel="dns-prefetch"> -->

  <!-- Preconnect for dynamic request URLs -->
  <!-- <link href='https://fonts.gstatic.com' rel='preconnect' crossorigin> -->

  <!-- Prefetch Resourses -->
  {# <link rel="prefetch" href="{{ root }}assets/svg/sprites.svg"> #}

  <link rel="stylesheet" href="{{ root }}assets/css/main.css">
  <!--[if (lt IE 9)]>
    <script src="{{ root }}assets/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  {% include './_header.njk' %}

  {# main #}
  {# skip-nav-link: http://a11yproject.com/posts/skip-nav-links/ #}
  {# tabindex for Webkit based browsers: https://bugs.chromium.org/p/chromium/issues/detail?id=37721 #}
  <main id="main" role="main" tabindex="-1">
  {% block main %}
  {% endblock %}
  </main>

  {# page footer #}
  {% include "./_footer.njk" %}

  <!-- Placeholder polyfill for IE9- -->
  <!--[if lt IE 10]><script>(function () {[].forEach.call(document.querySelectorAll('.lt-ie10 [placeholder]'), function (el) {var text = el.getAttribute('placeholder'); if (text) { el.value = text; } el.onfocus = function(){if (el.value === text) { el.value = ''; } }; el.onblur = function(){if (el.value === "") { el.value = text; } }; }); })();</script> <![endif]-->

  <script src="{{ root }}assets/js/script.js"></script>

  {# accessibility test #}
  {# <script src="/node_modules/axe-core/axe.min.js" ></script>
  <script>
    var doc = document;

    axe.run(function (err, results) {
      if (err) { throw err; }
      // console.table(results.violations);
      var data = results.violations;
      data.forEach(function(obj) {
        delete obj.tags;
        var arr = obj.nodes,
            arrNew = [];
        arr.forEach(function(item) {
          arrNew.push(doc.querySelector(item.target[0]));
        });
        obj.nodes = arrNew;
      });
      console.table(results.violations);
    });
  </script> #}

  <link rel="stylesheet" href="{{ root }}assets/css/print.css" media="print">

  <!--[if (lt IE 9)]>
    <script>
      var sheets = document.styleSheets;
      for (var i = 0, l = sheets.length; i < l; i++) {
        sheets[i].disabled = true;
      }
    </script>
    <style>
      body { font-family: Helvetica, Arial, sans-serif; }
      @media \0screen { img { width: auto; } }
      img {
        border: 0;
        height: auto;
      }
    </style>
  <![endif]-->
</body>
</html>