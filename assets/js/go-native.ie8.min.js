!function(global,factory){"object"==typeof module&&"object"==typeof exports?(module.exports=function(browserGlobal){browserGlobal.console=console,browserGlobal.parseInt=parseInt,browserGlobal.Function=Function,browserGlobal.Boolean=Boolean,browserGlobal.Number=Number,browserGlobal.RegExp=RegExp,browserGlobal.String=String,browserGlobal.Object=Object,browserGlobal.Array=Array,browserGlobal.Error=Error,browserGlobal.Date=Date,browserGlobal.Math=Math;var exports=browserGlobal.Object();return factory(browserGlobal,exports),exports},module.factory=factory):(factory(global,(global.NW||(global.NW=global.Object()))&&(global.NW.Dom||(global.NW.Dom=global.Object()))),global.NW.Dom.factory=factory)}(this,function(global,exports){var isSingleMatch,isSingleSelect,lastSlice,lastContext,lastPosition,lastMatcher,lastSelector,lastPartsMatch,lastPartsSelect,BUGGY_QUIRKS_GEBCN,BUGGY_QUIRKS_QSAPI,QUIRKS_MODE,XML_DOCUMENT,version="nwmatcher-1.3.6",Dom=exports,doc=global.document,root=doc.documentElement,slice=global.Array.prototype.slice,string=global.Object.prototype.toString,prefixes="[#.:]?",operators="([~*^$|!]?={1})",whitespace="[\\x20\\t\\n\\r\\f]*",combinators="[\\x20]|[>+~][^>+~]",pseudoparms="(?:[-+]?\\d*n)?[-+]?\\d*",quotedvalue='"[^"\\\\]*(?:\\\\.[^"\\\\]*)*"'+"|'[^'\\\\]*(?:\\\\.[^'\\\\]*)*'",skipround="\\([^()]+\\)|\\(.*\\)",skipcurly="\\{[^{}]+\\}|\\{.*\\}",skipsquare="\\[[^[\\]]*\\]|\\[.*\\]",skipgroup="\\[.*\\]|\\(.*\\)|\\{.*\\}",encoding="(?:[-\\w]|[^\\x00-\\xa0]|\\\\.)",identifier="(?:-?[_a-zA-Z]{1}[-\\w]*|[^\\x00-\\xa0]+|\\\\.+)+",attrcheck="("+quotedvalue+"|"+identifier+")",attributes=whitespace+"("+encoding+"*:?"+encoding+"+)"+whitespace+"(?:"+operators+whitespace+attrcheck+")?"+whitespace,attrmatcher=attributes.replace(attrcheck,"([\\x22\\x27]*)((?:\\\\?.)*?)\\3"),pseudoclass="((?:"+pseudoparms+"|"+quotedvalue+"|"+prefixes+"|"+encoding+"+|\\["+attributes+"\\]|\\(.+\\)|"+whitespace+"|,)+)",extensions=".+",standardValidator="(?=[\\x20\\t\\n\\r\\f]*[^>+~(){}<>])(\\*|(?:"+prefixes+identifier+")|"+combinators+"|\\["+attributes+"\\]|\\("+pseudoclass+"\\)|\\{"+extensions+"\\}|(?:,|"+whitespace+"))+",extendedValidator=standardValidator.replace(pseudoclass,".*"),reValidator=new global.RegExp(standardValidator,"g"),reTrimSpaces=new global.RegExp("^"+whitespace+"|"+whitespace+"$","g"),reSimpleNot=new global.RegExp("^((?!:not)("+prefixes+"|"+identifier+"|\\([^()]*\\))+|\\["+attributes+"\\])$"),reSplitGroup=new global.RegExp("([^,\\\\()[\\]]+|"+skipsquare+"|"+skipround+"|"+skipcurly+"|\\\\.)+","g"),reSplitToken=new global.RegExp("(\\["+attributes+"\\]|\\("+pseudoclass+"\\)|\\\\.|[^\\x20\\t\\r\\n\\f>+~])+","g"),reWhiteSpace=/[\x20\t\n\r\f]+/g,reOptimizeSelector=new global.RegExp(identifier+"|^$"),isNative=function(){var re=/ \w+\(/,isnative=String(Object.prototype.toString).replace(re," (");return function(method){return method&&"string"!=typeof method&&isnative==String(method).replace(re," (")}}(),NATIVE_FOCUS=isNative(doc.hasFocus),NATIVE_QSAPI=isNative(doc.querySelector),NATIVE_GEBID=isNative(doc.getElementById),NATIVE_GEBTN=isNative(root.getElementsByTagName),NATIVE_GEBCN=isNative(root.getElementsByClassName),NATIVE_GET_ATTRIBUTE=isNative(root.getAttribute),NATIVE_HAS_ATTRIBUTE=isNative(root.hasAttribute),NATIVE_SLICE_PROTO=function(){var isBuggy=!1;try{isBuggy=!!slice.call(doc.childNodes,0)[0]}catch(e){}return isBuggy}(),NATIVE_TRAVERSAL_API="nextElementSibling"in root&&"previousElementSibling"in root,BUGGY_GEBID=!NATIVE_GEBID||function(){var isBuggy=!0,x="x"+global.String(+new global.Date),a=doc.createElementNS?"a":'<a name="'+x+'">';return(a=doc.createElement(a)).name=x,root.insertBefore(a,root.firstChild),isBuggy=!!doc.getElementById(x),root.removeChild(a),isBuggy}(),BUGGY_GEBTN=!NATIVE_GEBTN||function(){var div=doc.createElement("div");return div.appendChild(doc.createComment("")),!!div.getElementsByTagName("*")[0]}(),BUGGY_GEBCN=!NATIVE_GEBCN||function(){var isBuggy,div=doc.createElement("div"),test="台北";return div.appendChild(doc.createElement("span")).setAttribute("class",test+"abc "+test),div.appendChild(doc.createElement("span")).setAttribute("class","x"),isBuggy=!div.getElementsByClassName(test)[0],div.lastChild.className=test,isBuggy||2!=div.getElementsByClassName(test).length}(),BUGGY_GET_ATTRIBUTE=!NATIVE_GET_ATTRIBUTE||function(){var input=doc.createElement("input");return input.setAttribute("value",5),5!=input.defaultValue}(),BUGGY_HAS_ATTRIBUTE=!NATIVE_HAS_ATTRIBUTE||function(){var option=doc.createElement("option");return option.setAttribute("selected","selected"),!option.hasAttribute("selected")}(),BUGGY_SELECTED=function(){var select=doc.createElement("select");return select.appendChild(doc.createElement("option")),!select.firstChild.selected}(),OPERA=/opera/i.test(string.call(global.opera)),OPERA_QSAPI=OPERA&&global.parseFloat(global.opera.version())>=11,RE_BUGGY_QSAPI=!NATIVE_QSAPI||function(){var context,element,pattern=new global.Array,expect=function(selector,element,n){var result=!1;context.appendChild(element);try{result=context.querySelectorAll(selector).length==n}catch(e){}for(;context.firstChild;)context.removeChild(context.firstChild);return result};return context=doc.implementation&&doc.implementation.createDocument?doc.implementation.createDocument("","",null).appendChild(doc.createElement("html")).appendChild(doc.createElement("head")).parentNode.appendChild(doc.createElement("body")):doc.createElement("div"),element=doc.createElement("div"),element.innerHTML='<p id="a"></p><br>',expect("p#a+*",element,0)&&pattern.push("\\w+#\\w+.*[+~]"),element=doc.createElement("p"),element.setAttribute("class",""),expect('[class^=""]',element,1)&&pattern.push("[*^$]=[\\x20\\t\\n\\r\\f]*(?:\"\"|'')"),element=doc.createElement("option"),element.setAttribute("selected","selected"),expect(":checked",element,0)&&pattern.push(":checked"),element=doc.createElement("input"),element.setAttribute("type","hidden"),expect(":enabled",element,0)&&pattern.push(":enabled",":disabled"),element=doc.createElement("link"),element.setAttribute("href","x"),expect(":link",element,1)||pattern.push(":link"),BUGGY_HAS_ATTRIBUTE&&pattern.push("\\[[\\x20\\t\\n\\r\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),pattern.length?new global.RegExp(pattern.join("|")):{"test":function(){return!1}}}(),RE_CLASS=new global.RegExp("(?:\\[[\\x20\\t\\n\\r\\f]*class\\b|\\."+identifier+")"),RE_SIMPLE_SELECTOR=new global.RegExp(BUGGY_GEBTN&&BUGGY_GEBCN||OPERA?"^#?-?[_a-zA-Z]{1}"+encoding+"*$":BUGGY_GEBTN?"^[.#]?-?[_a-zA-Z]{1}"+encoding+"*$":BUGGY_GEBCN?"^(?:\\*|#-?[_a-zA-Z]{1}"+encoding+"*)$":"^(?:\\*|[.#]?-?[_a-zA-Z]{1}"+encoding+"*)$"),LINK_NODES=new global.Object({"a":1,"A":1,"area":1,"AREA":1,"link":1,"LINK":1}),ATTR_BOOLEAN=new global.Object({"checked":1,"disabled":1,"ismap":1,"multiple":1,"readonly":1,"selected":1}),ATTR_DEFAULT=new global.Object({"value":"defaultValue","checked":"defaultChecked","selected":"defaultSelected"}),ATTR_URIDATA=new global.Object({"action":2,"cite":2,"codebase":2,"data":2,"href":2,"longdesc":2,"lowsrc":2,"src":2,"usemap":2}),HTML_TABLE=new global.Object({"class":0,"accept":1,"accept-charset":1,"align":1,"alink":1,"axis":1,"bgcolor":1,"charset":1,"checked":1,"clear":1,"codetype":1,"color":1,"compact":1,"declare":1,"defer":1,"dir":1,"direction":1,"disabled":1,"enctype":1,"face":1,"frame":1,"hreflang":1,"http-equiv":1,"lang":1,"language":1,"link":1,"media":1,"method":1,"multiple":1,"nohref":1,"noresize":1,"noshade":1,"nowrap":1,"readonly":1,"rel":1,"rev":1,"rules":1,"scope":1,"scrolling":1,"selected":1,"shape":1,"target":1,"text":1,"type":1,"valign":1,"valuetype":1,"vlink":1}),XHTML_TABLE=new global.Object({"accept":1,"accept-charset":1,"alink":1,"axis":1,"bgcolor":1,"charset":1,"codetype":1,"color":1,"enctype":1,"face":1,"hreflang":1,"http-equiv":1,"lang":1,"language":1,"link":1,"media":1,"rel":1,"rev":1,"target":1,"text":1,"type":1,"vlink":1}),Selectors=new global.Object({}),Operators=new global.Object({"=":"n=='%m'","^=":"n.indexOf('%m')==0","*=":"n.indexOf('%m')>-1","|=":"(n+'-').indexOf('%m-')==0","~=":"(' '+n+' ').indexOf(' %m ')>-1","$=":"n.substr(n.length-'%m'.length)=='%m'"}),Optimize=new global.Object({"ID":new global.RegExp("^\\*?#("+encoding+"+)|"+skipgroup),"TAG":new global.RegExp("^("+encoding+"+)|"+skipgroup),"CLASS":new global.RegExp("^\\*?\\.("+encoding+"+$)|"+skipgroup)}),Patterns=new global.Object({"spseudos":/^\:(root|empty|(?:first|last|only)(?:-child|-of-type)|nth(?:-last)?(?:-child|-of-type)\(\s*(even|odd|(?:[-+]{0,1}\d*n\s*)?[-+]{0,1}\s*\d*)\s*\))?(.*)/i,"dpseudos":/^\:(link|visited|target|active|focus|hover|checked|disabled|enabled|selected|lang\(([-\w]{2,})\)|not\(([^()]*|.*)\))?(.*)/i,"attribute":new global.RegExp("^\\["+attrmatcher+"\\](.*)"),"children":/^[\x20\t\n\r\f]*\>[\x20\t\n\r\f]*(.*)/,"adjacent":/^[\x20\t\n\r\f]*\+[\x20\t\n\r\f]*(.*)/,"relative":/^[\x20\t\n\r\f]*\~[\x20\t\n\r\f]*(.*)/,"ancestor":/^[\x20\t\n\r\f]+(.*)/,"universal":/^\*(.*)/,"id":new global.RegExp("^#("+encoding+"+)(.*)"),"tagName":new global.RegExp("^("+encoding+"+)(.*)"),"className":new global.RegExp("^\\.("+encoding+"+)(.*)")}),concatList=function(data,elements){var element,i=-1;if(!data.length&&global.Array.slice)return global.Array.slice(elements);for(;element=elements[++i];)data[data.length]=element;return data},concatCall=function(data,elements,callback){for(var element,i=-1;(element=elements[++i])&&!1!==callback(data[data.length]=element););return data},switchContext=function(from,force){var div,oldDoc=doc;lastContext=from,doc=from.ownerDocument||from,(force||oldDoc!==doc)&&(root=doc.documentElement,XML_DOCUMENT="DiV"==doc.createElement("DiV").nodeName,QUIRKS_MODE=XML_DOCUMENT||"string"!=typeof doc.compatMode?function(){var style=doc.createElement("div").style;return style&&(style.width=1)&&"1px"==style.width}():doc.compatMode.indexOf("CSS")<0,div=doc.createElement("div"),div.appendChild(doc.createElement("p")).setAttribute("class","xXx"),div.appendChild(doc.createElement("p")).setAttribute("class","xxx"),BUGGY_QUIRKS_GEBCN=!XML_DOCUMENT&&NATIVE_GEBCN&&QUIRKS_MODE&&(2!=div.getElementsByClassName("xxx").length||2!=div.getElementsByClassName("xXx").length),BUGGY_QUIRKS_QSAPI=!XML_DOCUMENT&&NATIVE_QSAPI&&QUIRKS_MODE&&(2!=div.querySelectorAll("[class~=xxx]").length||2!=div.querySelectorAll(".xXx").length),Config.CACHING&&Dom.setCache(!0,doc))},convertEscapes=function(str){return str.replace(/\\([0-9a-fA-F]{1,6}\x20?|.)|([\x22\x27])/g,function(substring,p1,p2){var codePoint,highHex,highSurrogate,lowHex,lowSurrogate;return p2?"\\"+p2:/^[0-9a-fA-F]/.test(p1)?(codePoint=parseInt(p1,16),codePoint<0||codePoint>1114111?"\\ufffd":codePoint<=65535?(lowHex="000"+codePoint.toString(16),"\\u"+lowHex.substr(lowHex.length-4)):(codePoint-=65536,highSurrogate=(codePoint>>10)+55296,lowSurrogate=codePoint%1024+56320,highHex="000"+highSurrogate.toString(16),lowHex="000"+lowSurrogate.toString(16),"\\u"+highHex.substr(highHex.length-4)+"\\u"+lowHex.substr(lowHex.length-4))):/^[\\\x22\x27]/.test(p1)?substring:p1})},byIdRaw=function(id,elements){for(var i=-1,element=null;(element=elements[++i])&&element.getAttribute("id")!=id;);return element},_byId=BUGGY_GEBID?function(id,from){var element=null;return id=id.replace(/\\([^\\]{1})/g,"$1"),XML_DOCUMENT||9!=from.nodeType?byIdRaw(id,from.getElementsByTagName("*")):(element=from.getElementById(id))&&element.name==id&&from.getElementsByName?byIdRaw(id,from.getElementsByName(id)):element}:function(id,from){return id=id.replace(/\\([^\\]{1})/g,"$1"),from.getElementById&&from.getElementById(id)||byIdRaw(id,from.getElementsByTagName("*"))},byId=function(id,from){return from||(from=doc),lastContext!==from&&switchContext(from),_byId(id,from)},byTagRaw=function(tag,from){var any="*"==tag,element=from,elements=new global.Array,next=element.firstChild;for(any||(tag=tag.toUpperCase());element=next;)if(element.tagName>"@"&&(any||element.tagName.toUpperCase()==tag)&&(elements[elements.length]=element),!(next=element.firstChild||element.nextSibling))for(;!next&&(element=element.parentNode)&&element!==from;)next=element.nextSibling;return elements},_byTag=!BUGGY_GEBTN&&NATIVE_SLICE_PROTO?function(tag,from){return XML_DOCUMENT||11==from.nodeType?byTagRaw(tag,from):slice.call(from.getElementsByTagName(tag),0)}:function(tag,from){var element,i=-1,j=i,data=new global.Array,elements=from.getElementsByTagName(tag);if("*"==tag)for(;element=elements[++i];)element.nodeName>"@"&&(data[++j]=element);else for(;element=elements[++i];)data[i]=element;return data},byTag=function(tag,from){return from||(from=doc),lastContext!==from&&switchContext(from),_byTag(tag,from)},byName=function(name,from){return select('[name="'+name.replace(/\\([^\\]{1})/g,"$1")+'"]',from)},byClassRaw=function(name,from){var element,n,i=-1,j=i,data=new global.Array,elements=_byTag("*",from);for(name=" "+(QUIRKS_MODE?name.toLowerCase():name).replace(/\\([^\\]{1})/g,"$1")+" ";element=elements[++i];)n=XML_DOCUMENT?element.getAttribute("class"):element.className,n&&n.length&&(" "+(QUIRKS_MODE?n.toLowerCase():n).replace(reWhiteSpace," ")+" ").indexOf(name)>-1&&(data[++j]=element);return data},_byClass=function(name,from){return BUGGY_GEBCN||BUGGY_QUIRKS_GEBCN||XML_DOCUMENT||!from.getElementsByClassName?byClassRaw(name,from):slice.call(from.getElementsByClassName(name.replace(/\\([^\\]{1})/g,"$1")),0)},byClass=function(name,from){return from||(from=doc),lastContext!==from&&switchContext(from),_byClass(name,from)},contains="compareDocumentPosition"in root?function(container,element){return 16==(16&container.compareDocumentPosition(element))}:"contains"in root?function(container,element){return container!==element&&container.contains(element)}:function(container,element){for(;element=element.parentNode;)if(element===container)return!0;return!1},getAttribute=BUGGY_GET_ATTRIBUTE?function(node,attribute){return attribute=attribute.toLowerCase(),"object"==typeof node[attribute]?node.attributes[attribute]&&node.attributes[attribute].value:"type"==attribute?node.getAttribute(attribute):ATTR_URIDATA[attribute]?node.getAttribute(attribute,2):ATTR_BOOLEAN[attribute]?node.getAttribute(attribute)?attribute:"false":(node=node.getAttributeNode(attribute))&&node.value}:function(node,attribute){return node.getAttribute(attribute)},hasAttribute=BUGGY_HAS_ATTRIBUTE?function(node,attribute){var obj=node.getAttributeNode(attribute=attribute.toLowerCase());return ATTR_DEFAULT[attribute]&&"value"!=attribute?node[ATTR_DEFAULT[attribute]]:obj&&obj.specified}:function(node,attribute){return XML_DOCUMENT?!!node.getAttribute(attribute):node.hasAttribute(attribute)},isEmpty=function(node){for(node=node.firstChild;node;){if(3==node.nodeType||node.nodeName>"@")return!1;node=node.nextSibling}return!0},isLink=function(element){return hasAttribute(element,"href")&&LINK_NODES[element.nodeName]},nthElement=function(element,last){for(var count=1,succ=last?"nextSibling":"previousSibling";element=element[succ];)element.nodeName>"@"&&++count;return count},nthOfType=function(element,last){for(var count=1,succ=last?"nextSibling":"previousSibling",type=element.nodeName;element=element[succ];)element.nodeName==type&&++count;return count},configure=function(option){if("string"==typeof option)return Config[option]||Config;if("object"!=typeof option)return!1;for(var i in option)Config[i]=!!option[i],"SIMPLENOT"==i?(matchContexts=new global.Object,matchResolvers=new global.Object,selectContexts=new global.Object,selectResolvers=new global.Object,Config[i]||(Config["USE_QSAPI"]=!1)):"USE_QSAPI"==i&&(Config[i]=!!option[i]&&NATIVE_QSAPI);return reValidator=new global.RegExp(Config.SIMPLENOT?standardValidator:extendedValidator,"g"),!0},emit=function(message){if(Config.VERBOSITY)throw new global.Error(message);global.console&&global.console.log&&global.console.log(message)},Config=new global.Object({"CACHING":!1,"SHORTCUTS":!1,"SIMPLENOT":!0,"UNIQUE_ID":!0,"USE_HTML5":!0,"USE_QSAPI":NATIVE_QSAPI,"VERBOSITY":!0}),ACCEPT_NODE="r[r.length]=c[k];if(f&&false===f(c[k]))break main;else continue main;",compile=function(selector,source,mode){var parts="string"==typeof selector?selector.match(reSplitGroup):selector;if("string"==typeof source||(source=""),1==parts.length)source+=compileSelector(parts[0],mode?ACCEPT_NODE:"f&&f(k);return true;",mode);else for(var token,i=-1,seen=new global.Object;token=parts[++i];)token=token.replace(reTrimSpaces,""),!seen[token]&&(seen[token]=!0)&&(source+=compileSelector(token,mode?ACCEPT_NODE:"f&&f(k);return true;",mode));return mode?new global.Function("c,s,r,d,h,g,f,v","var N,n,x=0,k=-1,e;main:while((e=c[++k])){"+source+"}return r;"):new global.Function("e,s,r,d,h,g,f,v","var N,n,x=0,k=e;"+source+"return false;")},FILTER="var z=v[@]||(v[@]=[]),l=z.length-1;while(l>=0&&z[l]!==e)--l;if(l!==-1){break;}z[z.length]=e;",compileSelector=function(selector,source,mode){for(var a,b,n,expr,match,result,status,test,type,k=0;selector;){if(k++,match=selector.match(Patterns.universal))expr="";else if(match=selector.match(Patterns.id))source="if("+(XML_DOCUMENT?'s.getAttribute(e,"id")':'(e.submit?s.getAttribute(e,"id"):e.id)')+'=="'+match[1]+'"){'+source+"}";else if(match=selector.match(Patterns.tagName))source="if(e.nodeName"+(XML_DOCUMENT?'=="'+match[1]+'"':'.toUpperCase()=="'+match[1].toUpperCase()+'"')+"){"+source+"}";else if(match=selector.match(Patterns.className))source="if((n="+(XML_DOCUMENT?'s.getAttribute(e,"class")':"e.className")+')&&n.length&&(" "+'+(QUIRKS_MODE?"n.toLowerCase()":"n")+".replace("+reWhiteSpace+'," ")+" ").indexOf(" '+(QUIRKS_MODE?match[1].toLowerCase():match[1])+' ")>-1){'+source+"}";else if(match=selector.match(Patterns.attribute)){if(expr=match[1].split(":"),expr=2==expr.length?expr[1]:expr[0]+"",match[2]&&!Operators[match[2]])return emit('Unsupported operator in attribute selectors "'+selector+'"'),"";test="false",match[2]&&match[4]&&(test=Operators[match[2]])?(match[4]=convertEscapes(match[4]),HTML_TABLE["class"]=QUIRKS_MODE?1:0,type=(XML_DOCUMENT?XHTML_TABLE:HTML_TABLE)[expr.toLowerCase()],test=test.replace(/\%m/g,type?match[4].toLowerCase():match[4])):"!="!=match[2]&&"="!=match[2]||(test="n"+match[2]+'=""'),source='if(n=s.hasAttribute(e,"'+match[1]+'")){'+(match[2]?'n=s.getAttribute(e,"'+match[1]+'")':"")+(type&&match[2]?".toLowerCase();":";")+"if("+(match[2]?test:"n")+"){"+source+"}}"}else if(match=selector.match(Patterns.adjacent))source=(mode?"":FILTER.replace(/@/g,k))+source,source=NATIVE_TRAVERSAL_API?"var N"+k+"=e;while(e&&(e=e.previousElementSibling)){"+source+"break;}e=N"+k+";":"var N"+k+'=e;while(e&&(e=e.previousSibling)){if(e.nodeName>"@"){'+source+"break;}}e=N"+k+";";else if(match=selector.match(Patterns.relative))source=(mode?"":FILTER.replace(/@/g,k))+source,source=NATIVE_TRAVERSAL_API?"var N"+k+"=e;e=e.parentNode.firstElementChild;while(e&&e!==N"+k+"){"+source+"e=e.nextElementSibling;}e=N"+k+";":"var N"+k+"=e;e=e.parentNode.firstChild;while(e&&e!==N"+k+'){if(e.nodeName>"@"){'+source+"}e=e.nextSibling;}e=N"+k+";";else if(match=selector.match(Patterns.children))source=(mode?"":FILTER.replace(/@/g,k))+source,source="var N"+k+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+source+"break;}e=N"+k+";";else if(match=selector.match(Patterns.ancestor))source=(mode?"":FILTER.replace(/@/g,k))+source,source="var N"+k+"=e;while(e&&e!==h&&e!==g&&(e=e.parentNode)){"+source+"}e=N"+k+";";else if((match=selector.match(Patterns.spseudos))&&match[1])switch(match[1]){case"root":source=match[3]?"if(e===h||s.contains(h,e)){"+source+"}":"if(e===h){"+source+"}";break;case"empty":source="if(s.isEmpty(e)){"+source+"}";break;default:if(match[1]&&match[2]){if("n"==match[2]){source="if(e!==h){"+source+"}";break}"even"==match[2]?(a=2,b=0):"odd"==match[2]?(a=2,b=1):(b=(n=match[2].match(/(-?\d+)$/))?global.parseInt(n[1],10):0,a=(n=match[2].match(/(-?\d*)n/i))?global.parseInt(n[1],10):0,n&&"-"==n[1]&&(a=-1)),test=a>1?/last/i.test(match[1])?"(n-("+b+"))%"+a+"==0":"n>="+b+"&&(n-("+b+"))%"+a+"==0":a<-1?/last/i.test(match[1])?"(n-("+b+"))%"+a+"==0":"n<="+b+"&&(n-("+b+"))%"+a+"==0":0===a?"n=="+b:a==-1?"n<="+b:"n>="+b,source="if(e!==h){n=s["+(/-of-type/i.test(match[1])?'"nthOfType"':'"nthElement"')+"](e,"+(/last/i.test(match[1])?"true":"false")+");if("+test+"){"+source+"}}"}else a=/first/i.test(match[1])?"previous":"next",n=/only/i.test(match[1])?"previous":"next",b=/first|last/i.test(match[1]),type=/-of-type/i.test(match[1])?"&&n.nodeName!=e.nodeName":'&&n.nodeName<"@"',source="if(e!==h){"+("n=e;while((n=n."+a+"Sibling)"+type+");if(!n){"+(b?source:"n=e;while((n=n."+n+"Sibling)"+type+");if(!n){"+source+"}")+"}")+"}"}else if((match=selector.match(Patterns.dpseudos))&&match[1])switch(match[1].match(/^\w+/)[0]){case"not":if(expr=match[3].replace(reTrimSpaces,""),Config.SIMPLENOT&&!reSimpleNot.test(expr))return emit('Negation pseudo-class only accepts simple selectors "'+selector+'"'),"";source="compatMode"in doc?"if(!"+compile(expr,"",!1)+"(e,s,r,d,h,g)){"+source+"}":'if(!s.match(e, "'+expr.replace(/\x22/g,'\\"')+'",g)){'+source+"}";break;case"checked":source='if((typeof e.form!=="undefined"&&(/^(?:radio|checkbox)$/i).test(e.type)&&e.checked)'+(Config.USE_HTML5?"||(/^option$/i.test(e.nodeName)&&(e.selected||e.checked))":"")+"){"+source+"}";break;case"disabled":source='if(((typeof e.form!=="undefined"'+(Config.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===true){"+source+"}";break;case"enabled":source='if(((typeof e.form!=="undefined"'+(Config.USE_HTML5?"":"&&!(/^hidden$/i).test(e.type)")+")||s.isLink(e))&&e.disabled===false){"+source+"}";break;case"lang":test="",match[2]&&(test=match[2].substr(0,2)+"-"),source='do{(n=e.lang||"").toLowerCase();if((n==""&&h.lang=="'+match[2].toLowerCase()+'")||(n&&(n=="'+match[2].toLowerCase()+'"||n.substr(0,3)=="'+test.toLowerCase()+'"))){'+source+"break;}}while((e=e.parentNode)&&e!==g);";break;case"target":source="if(e.id==d.location.hash.slice(1)){"+source+"}";break;case"link":source="if(s.isLink(e)&&!e.visited){"+source+"}";break;case"visited":source="if(s.isLink(e)&&e.visited){"+source+"}";break;case"active":if(XML_DOCUMENT)break;source="if(e===d.activeElement){"+source+"}";break;case"hover":if(XML_DOCUMENT)break;source="if(e===d.hoverElement){"+source+"}";break;case"focus":if(XML_DOCUMENT)break;source=NATIVE_FOCUS?'if(e===d.activeElement&&d.hasFocus()&&(e.type||e.href||typeof e.tabIndex=="number")){'+source+"}":"if(e===d.activeElement&&(e.type||e.href)){"+source+"}";break;case"selected":expr=BUGGY_SELECTED?"||(n=e.parentNode)&&n.options[n.selectedIndex]===e":"",source="if(/^option$/i.test(e.nodeName)&&(e.selected||e.checked"+expr+")){"+source+"}"}else{expr=!1,status=!1;for(expr in Selectors)if((match=selector.match(Selectors[expr].Expression))&&match[1]&&(result=Selectors[expr].Callback(match,source),source=result.source,status=result.status))break;if(!status)return emit('Unknown pseudo-class selector "'+selector+'"'),"";if(!expr)return emit('Unknown token in selector "'+selector+'"'),""}if(!match)return emit('Invalid syntax in selector "'+selector+'"'),"";selector=match&&match[match.length-1]}return source},match=function(element,selector,from,callback){var parts;if(!element||1!=element.nodeType)return emit("Invalid element argument"),!1;if("string"!=typeof selector)return emit("Invalid selector argument"),!1;if(from&&1==from.nodeType&&!contains(from,element))return!1;if(lastContext!==from&&switchContext(from||(from=element.ownerDocument)),selector=selector.replace(reTrimSpaces,""),Config.SHORTCUTS&&(selector=Dom.shortcuts(selector,element,from)),lastMatcher!=selector){if(!(parts=selector.match(reValidator))||parts[0]!=selector)return emit('The string "'+selector+'", is not a valid CSS selector'),!1;isSingleMatch=(parts=selector.match(reSplitGroup)).length<2,lastMatcher=selector,lastPartsMatch=parts}else parts=lastPartsMatch;return matchResolvers[selector]&&matchContexts[selector]===from||(matchResolvers[selector]=compile(isSingleMatch?[selector]:parts,"",!1),matchContexts[selector]=from),matchResolvers[selector](element,Snapshot,[],doc,root,from,callback,new global.Object)},first=function(selector,from){return select(selector,from,function(){return!1})[0]||null},select=function(selector,from,callback){var i,changed,element,elements,parts,token,original=selector;if(0===arguments.length)return emit("Not enough arguments"),[];if("string"!=typeof selector)return[];if(from&&!/1|9|11/.test(from.nodeType))return emit("Invalid or illegal context element"),[];if(lastContext!==from&&switchContext(from||(from=doc)),Config.CACHING&&(elements=Dom.loadResults(original,from,doc,root)))return callback?concatCall([],elements,callback):elements;if(!OPERA_QSAPI&&RE_SIMPLE_SELECTOR.test(selector))switch(selector.charAt(0)){case"#":Config.UNIQUE_ID&&(elements=(element=_byId(selector.slice(1),from))?[element]:[]);break;case".":elements=_byClass(selector.slice(1),from);break;default:elements=_byTag(selector,from)}else if(!XML_DOCUMENT&&Config.USE_QSAPI&&(!BUGGY_QUIRKS_QSAPI||!RE_CLASS.test(selector))&&!RE_BUGGY_QSAPI.test(selector))try{elements=from.querySelectorAll(selector)}catch(e){}if(elements)return elements=callback?concatCall([],elements,callback):NATIVE_SLICE_PROTO?slice.call(elements):concatList([],elements),Config.CACHING&&Dom.saveResults(original,from,doc,elements),elements;if(selector=selector.replace(reTrimSpaces,""),Config.SHORTCUTS&&(selector=Dom.shortcuts(selector,from)),changed=lastSelector!=selector){if(!(parts=selector.match(reValidator))||parts[0]!=selector)return emit('The string "'+selector+'", is not a valid CSS selector'),[];isSingleSelect=(parts=selector.match(reSplitGroup)).length<2,lastSelector=selector,lastPartsSelect=parts}else parts=lastPartsSelect;if(11==from.nodeType)elements=byTagRaw("*",from);else if(!XML_DOCUMENT&&isSingleSelect){if(changed&&(parts=selector.match(reSplitToken),token=parts[parts.length-1],lastSlice=token.split(":not")[0],lastPosition=selector.length-token.length),Config.UNIQUE_ID&&(parts=lastSlice.match(Optimize.ID))&&(token=parts[1])?(element=_byId(token,from))&&(match(element,selector)?(callback&&callback(element),elements=new global.Array(element)):elements=new global.Array):Config.UNIQUE_ID&&(parts=selector.match(Optimize.ID))&&(token=parts[1])&&((element=_byId(token,doc))?"#"+token==selector?(callback&&callback(element),elements=new global.Array(element)):from=/[>+~]/.test(selector)?element.parentNode:element:elements=new global.Array),elements)return Config.CACHING&&Dom.saveResults(original,from,doc,elements),elements;if(!NATIVE_GEBCN&&(parts=lastSlice.match(Optimize.TAG))&&(token=parts[1])){if(0===(elements=_byTag(token,from)).length)return[];selector=selector.slice(0,lastPosition)+selector.slice(lastPosition).replace(token,"*")}else if((parts=lastSlice.match(Optimize.CLASS))&&(token=parts[1])){if(0===(elements=_byClass(token,from)).length)return[];selector=reOptimizeSelector.test(selector.charAt(selector.indexOf(token)-1))?selector.slice(0,lastPosition)+selector.slice(lastPosition).replace("."+token,""):selector.slice(0,lastPosition)+selector.slice(lastPosition).replace("."+token,"*")}else if((parts=selector.match(Optimize.CLASS))&&(token=parts[1])){if(0===(elements=_byClass(token,from)).length)return[];for(i=0,els=new global.Array;elements.length>i;++i)els=concatList(els,elements[i].getElementsByTagName("*"));elements=els,selector=reOptimizeSelector.test(selector.charAt(selector.indexOf(token)-1))?selector.slice(0,lastPosition)+selector.slice(lastPosition).replace("."+token,""):selector.slice(0,lastPosition)+selector.slice(lastPosition).replace("."+token,"*")}else if(NATIVE_GEBCN&&(parts=lastSlice.match(Optimize.TAG))&&(token=parts[1])){if(0===(elements=_byTag(token,from)).length)return[];selector=selector.slice(0,lastPosition)+selector.slice(lastPosition).replace(token,"*")}}return elements||(elements=/^(?:applet|object)$/i.test(from.nodeName)?from.childNodes:_byTag("*",from)),selectResolvers[selector]&&selectContexts[selector]===from||(selectResolvers[selector]=compile(isSingleSelect?[selector]:parts,"",!0),selectContexts[selector]=from),elements=selectResolvers[selector](elements,Snapshot,[],doc,root,from,callback,new global.Object),Config.CACHING&&Dom.saveResults(original,from,doc,elements),elements},FN=function(x){return x},matchContexts=new global.Object,matchResolvers=new global.Object,selectContexts=new global.Object,selectResolvers=new global.Object,Snapshot=new global.Object({"nthElement":nthElement,"nthOfType":nthOfType,"getAttribute":getAttribute,"hasAttribute":hasAttribute,"byClass":_byClass,"byName":byName,"byTag":_byTag,"byId":_byId,"contains":contains,"isEmpty":isEmpty,"isLink":isLink,"select":select,"match":match}),Tokens=new global.Object({"prefixes":prefixes,"encoding":encoding,"operators":operators,"whitespace":whitespace,"identifier":identifier,"attributes":attributes,"combinators":combinators,"pseudoclass":pseudoclass,"pseudoparms":pseudoparms,"quotedvalue":quotedvalue});Dom.ACCEPT_NODE=ACCEPT_NODE,Dom.byId=byId,Dom.byTag=byTag,Dom.byName=byName,Dom.byClass=byClass,Dom.getAttribute=getAttribute,Dom.hasAttribute=hasAttribute,Dom.match=match,Dom.first=first,Dom.select=select,Dom.compile=compile,Dom.contains=contains,Dom.configure=configure,Dom.setCache=FN,Dom.loadResults=FN,Dom.saveResults=FN,Dom.shortcuts=FN,Dom.emit=emit,Dom.Config=Config,Dom.Snapshot=Snapshot,Dom.Operators=Operators,Dom.Selectors=Selectors,Dom.Tokens=Tokens,Dom.Version=version,Dom.registerOperator=function(symbol,resolver){Operators[symbol]||(Operators[symbol]=resolver)},Dom.registerSelector=function(name,rexp,func){Selectors[name]||(Selectors[name]=new global.Object({"Expression":rexp,"Callback":func}))},switchContext(doc,!0)}),function(win){function patchStyleSheet(cssText){return cssText.replace(RE_PSEUDO_ELEMENTS,PLACEHOLDER_STRING).replace(RE_SELECTOR_GROUP,function(m,prefix,selectorText){function comboBreaker(match,combinator,pseudo,attribute,index){if(combinator)return patches.length>0&&(domPatches.push({"selector":selector.substring(0,index),"patches":patches}),patches=[]),combinator;var patch=pseudo?patchPseudoClass(pseudo):patchAttribute(attribute);return patch?(patches.push(patch),"."+patch.className):match}for(var selectorGroups=selectorText.split(","),c=0,cs=selectorGroups.length;c<cs;c++){var selector=normalizeSelectorWhitespace(selectorGroups[c])+SPACE_STRING,patches=[];selectorGroups[c]=selector.replace(RE_SELECTOR_PARSE,comboBreaker)}return prefix+selectorGroups.join(",")})}function patchAttribute(attr){return!BROKEN_ATTR_IMPLEMENTATIONS||BROKEN_ATTR_IMPLEMENTATIONS.test(attr)?{"className":createClassName(attr),"applyClass":!0}:null}function patchPseudoClass(pseudo){var activateEventName,deactivateEventName,applyClass=!0,className=createClassName(pseudo.slice(1)),isNegated=":not("==pseudo.substring(0,5);isNegated&&(pseudo=pseudo.slice(5,-1));var bracketIndex=pseudo.indexOf("(");if(bracketIndex>-1&&(pseudo=pseudo.substring(0,bracketIndex)),":"==pseudo.charAt(0))switch(pseudo.slice(1)){case"root":applyClass=function(e){return isNegated?e!=root:e==root};break;case"target":if(8==ieVersion){applyClass=function(e){var handler=function(){var hash=location.hash,hashID=hash.slice(1);return isNegated?hash==EMPTY_STRING||e.id!=hashID:hash!=EMPTY_STRING&&e.id==hashID};return addEvent(win,"hashchange",function(){toggleElementClass(e,className,handler())}),handler()};break}return!1;case"checked":applyClass=function(e){return RE_INPUT_CHECKABLE_TYPES.test(e.type)&&addEvent(e,"propertychange",function(){"checked"==event.propertyName&&toggleElementClass(e,className,e.checked!==isNegated)}),e.checked!==isNegated};break;case"disabled":isNegated=!isNegated;break;case"enabled":applyClass=function(e){return RE_INPUT_ELEMENTS.test(e.tagName)?(addEvent(e,"propertychange",function(){"$disabled"==event.propertyName&&toggleElementClass(e,className,e.$disabled===isNegated)}),enabledWatchers.push(e),e.$disabled=e.disabled,e.disabled===isNegated):":enabled"==pseudo?isNegated:!isNegated};break;case"focus":activateEventName="focus",deactivateEventName="blur";
break;case"hover":activateEventName||(activateEventName="mouseenter",deactivateEventName="mouseleave"),applyClass=function(e){return addEvent(e,isNegated?deactivateEventName:activateEventName,function(){toggleElementClass(e,className,!0)}),addEvent(e,isNegated?activateEventName:deactivateEventName,function(){toggleElementClass(e,className,!1)}),isNegated};break;default:if(!RE_PSEUDO_STRUCTURAL.test(pseudo))return!1}return{"className":className,"applyClass":applyClass}}function applyPatches(){for(var elms,selectorText,patches,domSelectorText,c=0;c<domPatches.length;c++){selectorText=domPatches[c].selector,patches=domPatches[c].patches,domSelectorText=selectorText.replace(RE_LIBRARY_INCOMPATIBLE_PSEUDOS,EMPTY_STRING),domSelectorText!=EMPTY_STRING&&domSelectorText.charAt(domSelectorText.length-1)!=SPACE_STRING||(domSelectorText+="*");try{elms=selectorMethod(domSelectorText)}catch(ex){log("Selector '"+selectorText+"' threw exception '"+ex+"'")}if(elms)for(var d=0,dl=elms.length;d<dl;d++){for(var elm=elms[d],cssClasses=elm.className,f=0,fl=patches.length;f<fl;f++){var patch=patches[f];hasPatch(elm,patch)||!patch.applyClass||patch.applyClass!==!0&&patch.applyClass(elm)!==!0||(cssClasses=toggleClass(cssClasses,patch.className,!0))}elm.className=cssClasses}}}function hasPatch(elm,patch){return new RegExp("(^|\\s)"+patch.className+"(\\s|$)").test(elm.className)}function createClassName(className){return namespace+"-"+(6==ieVersion&&patchIE6MultipleClasses?ie6PatchID++:className.replace(RE_PATCH_CLASS_NAME_REPLACE,function(a){return a.charCodeAt(0)}))}function log(message){win.console&&win.console.log(message)}function trim(text){return text.replace(RE_TIDY_TRIM_WHITESPACE,PLACEHOLDER_STRING)}function normalizeWhitespace(text){return trim(text).replace(RE_TIDY_CONSECUTIVE_WHITESPACE,SPACE_STRING)}function normalizeSelectorWhitespace(selectorText){return normalizeWhitespace(selectorText.replace(RE_TIDY_TRAILING_WHITESPACE,PLACEHOLDER_STRING).replace(RE_TIDY_LEADING_WHITESPACE,PLACEHOLDER_STRING))}function toggleElementClass(elm,className,on){var oldClassName=elm.className,newClassName=toggleClass(oldClassName,className,on);newClassName!=oldClassName&&(elm.className=newClassName,elm.parentNode.className+=EMPTY_STRING)}function toggleClass(classList,className,on){var re=RegExp("(^|\\s)"+className+"(\\s|$)"),classExists=re.test(classList);return on?classExists?classList:classList+SPACE_STRING+className:classExists?trim(classList.replace(re,PLACEHOLDER_STRING)):classList}function addEvent(elm,eventName,eventHandler){elm.attachEvent("on"+eventName,eventHandler)}function getXHRObject(){if(win.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return null}}function loadStyleSheet(url){return xhr.open("GET",url,!1),xhr.send(),200==xhr.status&&null!=xhr.responseText?xhr.responseText:EMPTY_STRING}function resolveUrl(url,contextUrl,ignoreSameOriginPolicy){function getProtocol(url){return url.substring(0,url.indexOf("//"))}function getProtocolAndHost(url){return url.substring(0,url.indexOf("/",8))}if(contextUrl||(contextUrl=baseUrl),"//"==url.substring(0,2)&&(url=getProtocol(contextUrl)+url),/^https?:\/\//i.test(url))return ignoreSameOriginPolicy||getProtocolAndHost(contextUrl)==getProtocolAndHost(url)?url:null;if("/"==url.charAt(0))return getProtocolAndHost(contextUrl)+url;var contextUrlPath=contextUrl.split(/[?#]/)[0];return"?"!=url.charAt(0)&&"/"!=contextUrlPath.charAt(contextUrlPath.length-1)&&(contextUrlPath=contextUrlPath.substring(0,contextUrlPath.lastIndexOf("/")+1)),contextUrlPath+url}function parseStyleSheet(url){return url&&url.indexOf(".css")!==-1?loadStyleSheet(url).replace(RE_COMMENT,EMPTY_STRING).replace(RE_IMPORT,function(match,quoteChar,importUrl,quoteChar2,importUrl2,media){var cssText=parseStyleSheet(resolveUrl(importUrl||importUrl2,url));return media?"@media "+media+" {"+cssText+"}":cssText}).replace(RE_ASSET_URL,function(match,isBehavior,quoteChar,assetUrl){return quoteChar=quoteChar||EMPTY_STRING,isBehavior?match:" url("+quoteChar+resolveUrl(assetUrl,url,!0)+quoteChar+") "}):EMPTY_STRING}function getStyleSheets(){for(var url,stylesheet,c=0;c<doc.styleSheets.length;c++)stylesheet=doc.styleSheets[c],stylesheet.href!=EMPTY_STRING&&(url=resolveUrl(stylesheet.href),url&&(stylesheet.cssText=stylesheet.rawCssText=patchStyleSheet(parseStyleSheet(url))))}function init(){applyPatches(),enabledWatchers.length>0&&setInterval(function(){for(var c=0,cl=enabledWatchers.length;c<cl;c++){var e=enabledWatchers[c];e.disabled!==e.$disabled&&(e.disabled?(e.disabled=!1,e.$disabled=!0,e.disabled=!0):e.$disabled=e.disabled)}},250)}function ContentLoaded(win,fn){var done=!1,top=!0,init=function(e){"readystatechange"==e.type&&"complete"!=doc.readyState||(("load"==e.type?win:doc).detachEvent("on"+e.type,init,!1),!done&&(done=!0)&&fn.call(win,e.type||e))},poll=function(){try{root.doScroll("left")}catch(e){return void setTimeout(poll,50)}init("poll")};if("complete"==doc.readyState)fn.call(win,EMPTY_STRING);else{if(doc.createEventObject&&root.doScroll){try{top=!win.frameElement}catch(e){}top&&poll()}addEvent(doc,"readystatechange",init),addEvent(win,"load",init)}}var ieUserAgent=navigator.userAgent.match(/MSIE (\d+)/);if(!ieUserAgent)return!1;var doc=document,root=doc.documentElement,xhr=getXHRObject(),ieVersion=ieUserAgent[1];if(!("CSS1Compat"!=doc.compatMode||ieVersion<6||ieVersion>8)&&xhr){var selectorMethod,selectorEngines={"NW":"*.Dom.select","MooTools":"$$","DOMAssistant":"*.$","Prototype":"$$","YAHOO":"*.util.Selector.query","Sizzle":"*","jQuery":"*","dojo":"*.query"},enabledWatchers=[],domPatches=[],ie6PatchID=0,patchIE6MultipleClasses=!0,namespace="slvzr",RE_COMMENT=/(\/\*[^*]*\*+([^\/][^*]*\*+)*\/)\s*?/g,RE_IMPORT=/@import\s*(?:(?:(?:url\(\s*(['"]?)([^;]*)\1)\s*\))|(?:(['"])([^;]*)\3))\s*([^;]*);/g,RE_ASSET_URL=/(behavior\s*?:\s*)?\burl\(\s*(["']?)(?!data:)([^"')]+)\2\s*\)/g,RE_PSEUDO_STRUCTURAL=/^:(empty|(first|last|only|nth(-last)?)-(child|of-type))$/,RE_PSEUDO_ELEMENTS=/:(:first-(?:line|letter))/g,RE_SELECTOR_GROUP=/((?:^|(?:\s*})+)(?:\s*@media[^{]+{)?)\s*([^\{]*?[\[:][^{]+)/g,RE_SELECTOR_PARSE=/([ +~>])|(:[a-z-]+(?:\(.*?\)+)?)|(\[.*?\])/g,RE_LIBRARY_INCOMPATIBLE_PSEUDOS=/(:not\()?:(hover|enabled|disabled|focus|checked|target|active|visited|first-line|first-letter)\)?/g,RE_PATCH_CLASS_NAME_REPLACE=/[^\w-]/g,RE_INPUT_ELEMENTS=/^(INPUT|SELECT|TEXTAREA|BUTTON)$/,RE_INPUT_CHECKABLE_TYPES=/^(checkbox|radio)$/,BROKEN_ATTR_IMPLEMENTATIONS=ieVersion>6?/[\$\^*]=(['"])\1/:null,RE_TIDY_TRAILING_WHITESPACE=/([(\[+~])\s+/g,RE_TIDY_LEADING_WHITESPACE=/\s+([)\]+~])/g,RE_TIDY_CONSECUTIVE_WHITESPACE=/\s+/g,RE_TIDY_TRIM_WHITESPACE=/^\s*((?:[\S\s]*\S)?)\s*$/,EMPTY_STRING="",SPACE_STRING=" ",PLACEHOLDER_STRING="$1",baseTags=doc.getElementsByTagName("BASE"),baseUrl=baseTags.length>0?baseTags[0].href:doc.location.href;getStyleSheets(),ContentLoaded(win,function(){for(var engine in selectorEngines){var members,member,context=win;if(win[engine]){for(members=selectorEngines[engine].replace("*",engine).split(".");(member=members.shift())&&(context=context[member]););if("function"==typeof context)return selectorMethod=context,void init()}}})}}(this),function(w){"use strict";w.matchMedia=w.matchMedia||function(doc,undefined){var bool,docElem=doc.documentElement,refNode=docElem.firstElementChild||docElem.firstChild,fakeBody=doc.createElement("body"),div=doc.createElement("div");return div.id="mq-test-1",div.style.cssText="position:absolute;top:-100em",fakeBody.style.background="none",fakeBody.appendChild(div),function(q){return div.innerHTML='&shy;<style media="'+q+'"> #mq-test-1 { width: 42px; }</style>',docElem.insertBefore(fakeBody,refNode),bool=42===div.offsetWidth,docElem.removeChild(fakeBody),{"matches":bool,"media":q}}}(w.document)}(this),function(w){"use strict";function callMedia(){applyMedia(!0)}var respond={};w.respond=respond,respond.update=function(){};var requestQueue=[],xmlHttp=function(){var xmlhttpmethod=!1;try{xmlhttpmethod=new w.XMLHttpRequest}catch(e){xmlhttpmethod=new w.ActiveXObject("Microsoft.XMLHTTP")}return function(){return xmlhttpmethod}}(),ajax=function(url,callback){var req=xmlHttp();req&&(req.open("GET",url,!0),req.onreadystatechange=function(){4!==req.readyState||200!==req.status&&304!==req.status||callback(req.responseText)},4!==req.readyState&&req.send(null))};if(respond.ajax=ajax,respond.queue=requestQueue,respond.regex={"media":/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi,"keyframes":/@(?:\-(?:o|moz|webkit)\-)?keyframes[^\{]+\{(?:[^\{\}]*\{[^\}\{]*\})+[^\}]*\}/gi,"urls":/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"findStyles":/@media *([^\{]+)\{([\S\s]+?)$/,"only":/(only\s+)?([a-zA-Z]+)\s?/,"minw":/\([\s]*min\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/,"maxw":/\([\s]*max\-width\s*:[\s]*([\s]*[0-9\.]+)(px|em)[\s]*\)/},respond.mediaQueriesSupported=w.matchMedia&&null!==w.matchMedia("only all")&&w.matchMedia("only all").matches,!respond.mediaQueriesSupported){var lastCall,resizeDefer,eminpx,doc=w.document,docElem=doc.documentElement,mediastyles=[],rules=[],appendedEls=[],parsedSheets={},resizeThrottle=30,head=doc.getElementsByTagName("head")[0]||docElem,base=doc.getElementsByTagName("base")[0],links=head.getElementsByTagName("link"),getEmValue=function(){var ret,div=doc.createElement("div"),body=doc.body,originalHTMLFontSize=docElem.style.fontSize,originalBodyFontSize=body&&body.style.fontSize,fakeUsed=!1;return div.style.cssText="position:absolute;font-size:1em;width:1em",body||(body=fakeUsed=doc.createElement("body"),body.style.background="none"),docElem.style.fontSize="100%",body.style.fontSize="100%",body.appendChild(div),fakeUsed&&docElem.insertBefore(body,docElem.firstChild),ret=div.offsetWidth,fakeUsed?docElem.removeChild(body):body.removeChild(div),docElem.style.fontSize=originalHTMLFontSize,originalBodyFontSize&&(body.style.fontSize=originalBodyFontSize),ret=eminpx=parseFloat(ret)},applyMedia=function(fromResize){var name="clientWidth",docElemProp=docElem[name],currWidth="CSS1Compat"===doc.compatMode&&docElemProp||doc.body[name]||docElemProp,styleBlocks={},lastLink=links[links.length-1],now=(new Date).getTime();if(fromResize&&lastCall&&now-lastCall<resizeThrottle)return w.clearTimeout(resizeDefer),void(resizeDefer=w.setTimeout(applyMedia,resizeThrottle));lastCall=now;for(var i in mediastyles)if(mediastyles.hasOwnProperty(i)){var thisstyle=mediastyles[i],min=thisstyle.minw,max=thisstyle.maxw,minnull=null===min,maxnull=null===max,em="em";min&&(min=parseFloat(min)*(min.indexOf(em)>-1?eminpx||getEmValue():1)),max&&(max=parseFloat(max)*(max.indexOf(em)>-1?eminpx||getEmValue():1)),thisstyle.hasquery&&(minnull&&maxnull||!(minnull||currWidth>=min)||!(maxnull||currWidth<=max))||(styleBlocks[thisstyle.media]||(styleBlocks[thisstyle.media]=[]),styleBlocks[thisstyle.media].push(rules[thisstyle.rules]))}for(var j in appendedEls)appendedEls.hasOwnProperty(j)&&appendedEls[j]&&appendedEls[j].parentNode===head&&head.removeChild(appendedEls[j]);appendedEls.length=0;for(var k in styleBlocks)if(styleBlocks.hasOwnProperty(k)){var ss=doc.createElement("style"),css=styleBlocks[k].join("\n");ss.type="text/css",ss.media=k,head.insertBefore(ss,lastLink.nextSibling),ss.styleSheet?ss.styleSheet.cssText=css:ss.appendChild(doc.createTextNode(css)),appendedEls.push(ss)}},translate=function(styles,href,media){var qs=styles.replace(respond.regex.keyframes,"").match(respond.regex.media),ql=qs&&qs.length||0;href=href.substring(0,href.lastIndexOf("/"));var repUrls=function(css){return css.replace(respond.regex.urls,"$1"+href+"$2$3")},useMedia=!ql&&media;href.length&&(href+="/"),useMedia&&(ql=1);for(var i=0;i<ql;i++){var fullq,thisq,eachq,eql;useMedia?(fullq=media,rules.push(repUrls(styles))):(fullq=qs[i].match(respond.regex.findStyles)&&RegExp.$1,rules.push(RegExp.$2&&repUrls(RegExp.$2))),eachq=fullq.split(","),eql=eachq.length;for(var j=0;j<eql;j++)thisq=eachq[j],mediastyles.push({"media":thisq.split("(")[0].match(respond.regex.only)&&RegExp.$2||"all","rules":rules.length-1,"hasquery":thisq.indexOf("(")>-1,"minw":thisq.match(respond.regex.minw)&&parseFloat(RegExp.$1)+(RegExp.$2||""),"maxw":thisq.match(respond.regex.maxw)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}applyMedia()},makeRequests=function(){if(requestQueue.length){var thisRequest=requestQueue.shift();ajax(thisRequest.href,function(styles){translate(styles,thisRequest.href,thisRequest.media),parsedSheets[thisRequest.href]=!0,w.setTimeout(function(){makeRequests()},0)})}},ripCSS=function(){for(var i=0;i<links.length;i++){var sheet=links[i],href=sheet.href,media=sheet.media,isCSS=sheet.rel&&"stylesheet"===sheet.rel.toLowerCase();href&&isCSS&&!parsedSheets[href]&&(sheet.styleSheet&&sheet.styleSheet.rawCssText?(translate(sheet.styleSheet.rawCssText,href,media),parsedSheets[href]=!0):(/^([a-zA-Z:]*\/\/)/.test(href)||base)&&href.replace(RegExp.$1,"").split("/")[0]!==w.location.host||("//"===href.substring(0,2)&&(href=w.location.protocol+href),requestQueue.push({"href":href,"media":media})))}makeRequests()};ripCSS(),respond.update=ripCSS,respond.getEmValue=getEmValue,w.addEventListener?w.addEventListener("resize",callMedia,!1):w.attachEvent&&w.attachEvent("onresize",callMedia)}}(this),function(){if(!Element.prototype.addEventListener){var eventListeners=[],addEventListener=function(type,listener){var self=this,wrapper=function(e){e.target=e.srcElement,e.currentTarget=self,"undefined"!=typeof listener.handleEvent?listener.handleEvent(e):listener.call(self,e)};if("DOMContentLoaded"==type){var wrapper2=function(e){"complete"==document.readyState&&wrapper(e)};if(document.attachEvent("onreadystatechange",wrapper2),eventListeners.push({"object":this,"type":type,"listener":listener,"wrapper":wrapper2}),"complete"==document.readyState){var e=new Event;e.srcElement=window,wrapper2(e)}}else this.attachEvent("on"+type,wrapper),eventListeners.push({"object":this,"type":type,"listener":listener,"wrapper":wrapper})},removeEventListener=function(type,listener){for(var counter=0;counter<eventListeners.length;){var eventListener=eventListeners[counter];if(eventListener.object==this&&eventListener.type==type&&eventListener.listener==listener){"DOMContentLoaded"==type?this.detachEvent("onreadystatechange",eventListener.wrapper):this.detachEvent("on"+type,eventListener.wrapper),eventListeners.splice(counter,1);break}++counter}};Element.prototype.addEventListener=addEventListener,Element.prototype.removeEventListener=removeEventListener,HTMLDocument&&(HTMLDocument.prototype.addEventListener=addEventListener,HTMLDocument.prototype.removeEventListener=removeEventListener),Window&&(Window.prototype.addEventListener=addEventListener,Window.prototype.removeEventListener=removeEventListener)}}(),function(){"use strict";"childElementCount"in document.documentElement||Object.defineProperty(Element.prototype,"childElementCount",{"get":function(){for(var c=0,nodes=this.children,i=0,l=nodes.length;i<l;++i)1===nodes[i].nodeType&&++c;return c}})}(),function(){"use strict";"firstElementChild"in document.documentElement||Object.defineProperty(Element.prototype,"firstElementChild",{"get":function(){for(var n,nodes=this.children,i=0,l=nodes.length;i<l;++i)if(n=nodes[i],1===n.nodeType)return n;return null}})}(),function(){"use strict";window.getComputedStyle||(window.getComputedStyle=function(el){if(!el)return null;var style=el.currentStyle,box=el.getBoundingClientRect(),shadow=document.createElement("div"),output=shadow.style;for(var i in style)output[i]=style[i];return output.cssFloat=output.styleFloat,"auto"===output.width&&(output.width=box.right-box.left+"px"),"auto"===output.height&&(output.height=box.bottom-box.top+"px"),output})}(),function(){"use strict";"innerHeight"in window||Object.defineProperty(window,"innerHeight",{"get":function(){return(document.documentElement||document.body.parentNode||document.body).clientHeight}})}(),function(){"use strict";"innerWidth"in window||Object.defineProperty(window,"innerWidth",{"get":function(){return(document.documentElement||document.body.parentNode||document.body).clientWidth}})}(),function(){"use strict";"lastElementChild"in document.documentElement||Object.defineProperty(Element.prototype,"lastElementChild",{"get":function(){for(var n,nodes=this.children,i=nodes.length-1;i>=0;--i)if(n=nodes[i],1===n.nodeType)return n;return null}})}(),function(){"use strict";"nextElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"nextElementSibling",{"get":function(){for(var e=this.nextSibling;e&&1!==e.nodeType;)e=e.nextSibling;return e}})}(),function(){"use strict";window.MouseEvent||"pageX"in Event.prototype||(Object.defineProperty(Event.prototype,"pageX",{"get":function(){return this.clientX+window.pageXOffset}}),Object.defineProperty(Event.prototype,"pageY",{"get":function(){return this.clientY+window.pageYOffset}}))}(),function(){"use strict";if(!("pageXOffset"in window)){var x=function(){return(document.documentElement||document.body.parentNode||document.body).scrollLeft},y=function(){return(document.documentElement||document.body.parentNode||document.body).scrollTop};Object.defineProperty(window,"pageXOffset",{"get":x}),Object.defineProperty(window,"pageYOffset",{"get":y}),Object.defineProperty(window,"scrollX",{"get":x}),Object.defineProperty(window,"scrollY",{"get":y})}}(),function(){Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1})}(),function(){"use strict";"previousElementSibling"in document.documentElement||Object.defineProperty(Element.prototype,"previousElementSibling",{"get":function(){for(var e=this.previousSibling;e&&1!==e.nodeType;)e=e.previousSibling;return e}})}(),function(){Event.prototype.stopPropagation||(Event.prototype.stopPropagation=function(){this.cancelBubble=!0})}(),function(){"use strict";function getText(node){var type=node.nodeType;if(haveText[type])return node.nodeValue;if(haveNull[type])return null;var name=node.nodeName;if(name&&srcTags[name])return node.innerHTML;for(var result="",children=node.childNodes,i=0,l=children.length;i<l;++i){var child=children[i];7!==child.nodeType&&8!==child.nodeType&&(result+=child.textContent)}return result}if(!("textContent"in Element.prototype))for(var I,interfaces="Element Text HTMLDocument HTMLCommentElement".split(" "),haveText={"3":1,"8":1,"4":1,"7":1},haveNull={"9":1,"10":1,"12":1},srcTags={"SCRIPT":1,"STYLE":1},i=0;i<4;++i)I=window[interfaces[i]],I&&Object.defineProperty(I.prototype,"textContent",{"get":function(){return getText(this)},"set":function(input){var type=this.nodeType;if(haveText[type])this.nodeValue=input;else if(!haveNull[type]){var name=this.nodeName;"STYLE"===name?this.styleSheet.cssText=input:srcTags[name]?this.text=input:this.innerText=input}}})}();
//# sourceMappingURL=sourcemap/go-native.ie8.min.js.map
